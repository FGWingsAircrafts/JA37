<?xml version="1.0"?>
<!--**********************************************************************

                                          Main file for JA-37 Flightgear aircraft


*************************************************************************-->   

<PropertyList>
  <sim>
    <description>Saab JA-37 Viggen</description>
    <author>Anders Lejczak (3D Model and Textures), Nikolai V. Chr. (rest)</author>
    <status>Beta</status>
    <long-description>The Saab JA-37 Viggen is a Swedish all-weather single-engine fighter jet from 1979. It has reverse thrust and very large canards.</long-description>
    <aircraft-version>3.026</aircraft-version>

    <rating>
      <FDM type="int">4</FDM>
      <systems type="int">2</systems>
      <cockpit type="int">3</cockpit>
      <model type="int">3</model>
    </rating>

    <exclude-from-gui type="bool">false</exclude-from-gui>
    <tags>
        <!--<tag>saab</tag>
        <tag>1-engine</tag>
        <tag>1990s</tag>
        <tag>combat</tag>-->
        <tag>jet</tag>
        <tag>retractable-gear</tag>
        <tag>supersonic</tag>
        <tag>coldwar</tag>
        <tag>fighter</tag>
        <tag>1980s</tag>
        <tag>stol</tag>
        <tag>cannard</tag>
        <tag>delta</tag>
        <tag>hud</tag>
        <tag>afterburner</tag>
    </tags>

    <flight-model>jsb</flight-model>
    <aero>ja37-jsbsim</aero>

    <startup>
      <splash-title>Swedish coldwar fighter</splash-title>
      <splash-texture>Aircraft/JA37/ja37-splash.png</splash-texture>
    </startup>

    <gui>
      <style>
        <colors>
          <splash-font>
            <red>1.0</red>
            <green>1.00</green>
            <blue>1.00</blue>
          </splash-font>
          <splash-screen>
            <red>0.9</red>
            <green>0.2</green>
            <blue>0.15</blue>
          </splash-screen>
        </colors>
      </style>
    </gui>

    <submodels>
     <serviceable type="bool">1</serviceable>
     <path>Aircraft/JA37/Systems/ja37-submodels.xml</path>
    </submodels>


<!--**********************************************************************

                                          Aircraft dimensions, operator and class


*************************************************************************-->   
    <!-- enable "parkpos=AVAILABLE" option for the JA-37 -->
    <dimensions>
      <radius-m type="double">10.0</radius-m>
      <parkpos-offset-m type="double">0.0</parkpos-offset-m>
    </dimensions>
    <aircraft-class type="string">mil-fighter</aircraft-class>
    <aircraft-operator>Swedish Air Force</aircraft-operator>
    <aircraft-data>
      <path>/sim/dimensions/radius-m</path>
      <path>/sim/dimensions/parkpos-offset-m</path>
      <path>/sim/aircraft-class</path>
      <path>/sim/aircraft-operator</path>
    </aircraft-data>

    <airport>
      <runways>
        <!-- place the aircraft a little forward on the runways,
               to avoid it standing on the edge.  -->
        <start-offset-m type="float"> 20 </start-offset-m>
      </runways>
    </airport>  
  
<!--**********************************************************************

                                          Flight recorder tape


*************************************************************************-->   

    <flight-recorder>
      <replay-config type="int">0</replay-config>
      <config n="0" >
        <name type="string">JA-37 Flight Recorder</name>
        <!-- Custom properties -->
        <signals include="/Aircraft/Generic/flightrecorder/components/environment.xml"/>
        <signals include="/Aircraft/Generic/flightrecorder/components/position.xml"/>
        <signals include="/Aircraft/Generic/flightrecorder/components/controls.xml"/>
        <signals include="/Aircraft/Generic/flightrecorder/components/engine-jet.xml">
          <count type="int">1</count>
        </signals>
        <signals include="/Aircraft/Generic/flightrecorder/components/faults-engines.xml">
          <count type="int">1</count>
        </signals>
        <signals include="/Aircraft/Generic/flightrecorder/components/tanks.xml">
          <count type="int">8</count>
        </signals>
        <signals include="/Aircraft/Generic/flightrecorder/components/gear-retractable.xml">
          <count type="int">3</count>
        </signals>
        <!-- <signal>
          <type>float</type>
          <property type="string">/controls/gear/nosegear-steering-cmd-norm</property>
          <interpolation>linear</interpolation>
        </signal> -->
        <!-- More custom signals here -->

        <!-- control surfaces -->
        <signal>
            <type>float</type>
            <property type="string">surface-positions/flap-pos-norm</property>
            <interpolation>angular-deg</interpolation>
        </signal>
        <signal>
            <type>float</type>
            <property type="string">surface-positions/rudder-pos-norm</property>
            <interpolation>linear</interpolation>
        </signal>
        <signal>
            <type>float</type>
            <property type="string">surface-positions/left-aileron-pos-norm</property>
            <interpolation>angular-deg</interpolation>
        </signal>
        <signal>
            <type>float</type>
            <property type="string">surface-positions/right-aileron-pos-norm</property>
            <interpolation>angular-deg</interpolation>
        </signal>
        <!-- Misc -->
        <signal>
          <type>bool</type>
          <property type="string">systems/electrical/batterysignal</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">instrumentation/head-up-display/serviceable</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">velocities/groundspeed-kt</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">fdm/jsbsim/systems/crash-detect/crashed</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">fdm/jsbsim/structural/wings/serviceable</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">canopy/position-norm</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">fdm/jsbsim/fcs/canopy/hinges/serviceable</property>
        </signal>
        <!-- Instruments -->
        <!--<signal>
          <type>float</type>
          <property type="string">fdm/jsbsim/aero/alpha-deg</property>
          <interpolation>angular-deg</interpolation>
        </signal>-->
        <signal>
          <type>float</type>
          <property type="string">instrumentation/altimeter/indicated-altitude-ft</property>
        </signal>
        <!-- Sound -->
        <signal>
          <type>float</type>
          <property type="string">engines/engine/thrust_lb</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">engines/engine/thrust_lb-absolute</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">damage/sounds/explode-on</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">damage/sounds/crash-on</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">damage/sounds/water-crash-on</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">damage/sounds/crack-on</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">damage/sounds/creaking-on</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">damage/sounds/crack-volume</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">damage/sounds/creaking-volume</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">engines/engine[0]/reversed</property>
        </signal>
        <!-- exterior lights -->
        <signal>
          <type>float</type>
          <property type="string">systems/electrical/lights-ext</property>
        </signal>
        <!--<signal> this is continuosly running so recording it will make double blinks
          <type>bool</type>
          <property type="string">sim/model/lighting/strobe/state</property>
        </signal>-->
        <signal>
          <type>float</type>
          <property type="string">sim/model/lighting/beacon/state-rotary</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">sim/ja37/effect/landing-light</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">systems/electrical/outputs/ac-instr-voltage</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">systems/electrical/outputs/ac-main-voltage</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">systems/electrical/outputs/dc-voltage</property>
        </signal> 
        <signal>
          <type>float</type>
          <property type="string">/systems/electrical/outputs/dc-norm</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">/systems/electrical/dc-light</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">controls/lighting/instruments-norm</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">controls/electric/lights-land-switch</property>
        </signal>
        <!-- Effects -->
        <signal>
          <type>float</type>
          <property type="string">engines/engine/flame</property>
        </signal>
        <signal>
          <type>int8</type>
          <property type="string">sim/ja37/effect/smoke</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">engines/engine[0]/nozzle-pos-norm</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">engines/engine[0]/augmentation</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">sim/multiplay/generic/float[2]</property>
        </signal>
        <!-- Stores -->
        <signal>
          <type>bool</type>
          <property type="string">controls/armament/station[0]/trigger</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">ai/submodels/submodel[0]/flare-release</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">consumables/fuel/tank[8]/jettisoned</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">controls/armament/station[1]/released</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">controls/armament/station[2]/released</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">controls/armament/station[3]/released</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">controls/armament/station[4]/released</property>
        </signal>
        <signal>
          <type>bool</type>
          <property type="string">fdm/jsbsim/systems/electrical/external/available</property>
        </signal>
        <signal>
          <type>int16</type><!-- careful, did these not change to use floating points?: -->
          <property type="string">payload/weight[0]/weight-lb</property>
        </signal>
        <signal>
          <type>int16</type>
          <property type="string">payload/weight[1]/weight-lb</property>
        </signal>
        <signal>
          <type>int16</type>
          <property type="string">payload/weight[2]/weight-lb</property>
        </signal>
        <signal>
          <type>int16</type>
          <property type="string">payload/weight[3]/weight-lb</property>
        </signal>
        <!-- Gears -->
        <!--<signal>
          <type>float</type>
          <property type="string">gear/gear/compression-norm</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">gear/gear[1]/compression-norm</property>
        </signal>
        <signal>
          <type>float</type>
          <property type="string">gear/gear[2]/compression-norm</property>
        </signal>-->
        <signal>
            <type>float</type>
            <property type="string">surface-positions/nose-wheel-pos-norm</property>
        </signal>
      </config><!-- 
    - double: 8 byte/sample
    - float:  4 byte/sample (default)
    - int:    4 byte/sample, integer
    - int16:  2 byte/sample, integer
    - int8:   1 byte/sample, integer
    - bool:   1 bit/sample (yes, 1 bit. 8 bools per byte).
    -->
    </flight-recorder>  <!-- remember string types are unsupported -->
    
    <sound>
     <path>Aircraft/JA37/Systems/ja37-sound.xml</path>
    </sound>

    <virtual-cockpit archive="y">true</virtual-cockpit> <!-- no clue what this does -->
    <panel>
     <visibility archive="y">false</visibility>
    </panel>
    <panel_2>
     <visibility>false</visibility>
    </panel_2>

    <hud> <!-- Backup HUD, when custom HUD is disabled -->
     <path n="1">Aircraft/JA37/Systems/ja37-hud.xml</path>
    </hud>


<!--**********************************************************************

                                          Model


*************************************************************************-->   

    <model>
      <path archive="y">Aircraft/JA37/Models/JA37-Viggen.xml</path>
      
      <livery>                      <!-- Default Livery -->
        <file type="string"/>
        <name type="string">Swedish Air Force 59</name>
        <owner type="string">SAF</owner>
       </livery>

    </model>


<!--**********************************************************************

                                          Views


*************************************************************************-->
<!--<chase-distance-m type="double" archive="y">-50.0</chase-distance-m>-->

    <current-view>
      <field-of-view type="double">100</field-of-view>
      <config>
        <default-field-of-view-deg type="double">95</default-field-of-view-deg>
      </config>
      <!-- Sometimes these get changed (in FG 3.0-) and saved and will override the defaults. This will set the defaults everytime its started up. -->
      <x-offset-m type="double">0</x-offset-m>
      <y-offset-m type="double">0.71</y-offset-m>
      <z-offset-m type="double">-3.6</z-offset-m>
    </current-view>

    <view n="0">
     <internal>true</internal>
     <config>
       <pitch-offset-deg type="double">-23</pitch-offset-deg>
       <x-offset-m type="double">0</x-offset-m>
       <y-offset-m type="double">0.71</y-offset-m><!-- remember to change eyepoint in JSB when changing this -->
       <z-offset-m type="double">-3.6</z-offset-m>
       <default-field-of-view-deg type="double">95</default-field-of-view-deg>
     </config>
    </view>
    <!--<view n="100">
      <name>Dashboard test View</name>
      <type>lookfrom</type>
      <internal>true</internal>
      <config>
        <from-model type="bool">true</from-model>
        <x-offset-m>0.0</x-offset-m>
        <y-offset-m>0.50</y-offset-m>
        <z-offset-m>-3.75</z-offset-m>
        <default-field-of-view-deg>90</default-field-of-view-deg>
        <limits>
          <enabled type="bool">false</enabled>
        </limits>
      </config>
    </view>-->
    <view n="101">
      <name>Left wing view</name>
      <type>lookfrom</type>
      <internal>false</internal>
      <config>
        <from-model type="bool">true</from-model>
        <x-offset-m>-4.0</x-offset-m>
        <y-offset-m>1.55</y-offset-m>
        <z-offset-m>11.3</z-offset-m>
        <default-field-of-view-deg>70</default-field-of-view-deg>
        <limits>
          <enabled type="bool">false</enabled>
        </limits>
      </config>
    </view>
    <view n="102">
      <name>Right wing view</name>
      <type>lookfrom</type>
      <internal>false</internal>
      <config>
        <from-model type="bool">true</from-model>
        <x-offset-m> 4.0</x-offset-m>
        <y-offset-m>1.55</y-offset-m>
        <z-offset-m>11.3</z-offset-m>
        <default-field-of-view-deg>70</default-field-of-view-deg>
        <limits>
          <enabled type="bool">false</enabled>
        </limits>
      </config>
    </view>
    <view n="103">
      <name>Top view</name>
      <type>lookfrom</type>
      <internal>false</internal>
      <config>
        <pitch-offset-deg type="double">-90</pitch-offset-deg>
        <from-model type="bool">true</from-model>
        <x-offset-m>   0</x-offset-m>
        <y-offset-m> 100</y-offset-m>
        <z-offset-m>   1</z-offset-m>
        <default-field-of-view-deg>25</default-field-of-view-deg>
        <limits>
          <enabled type="bool">false</enabled>
        </limits>
      </config>
    </view>    
    <view n="105">
      <name>Front view</name>
      <type>lookat</type>
      <internal>false</internal>
      <config>
        <pitch-offset-deg type="double">5</pitch-offset-deg>
        <heading-offset-deg type="double">180</heading-offset-deg>
        <!--<from-model type="bool">true</from-model>-->

        <default-field-of-view-deg>40</default-field-of-view-deg>

        <from-model type="bool">false</from-model>
        <from-model-idx type="int">0</from-model-idx>
        <eye-lat-deg-path>/position/latitude-deg</eye-lat-deg-path>
        <eye-lon-deg-path>/position/longitude-deg</eye-lon-deg-path>
        <eye-alt-ft-path>/position/altitude-ft</eye-alt-ft-path>
        <eye-heading-deg-path>/orientation/heading-deg</eye-heading-deg-path>

        <at-model type="bool">true</at-model>
        <at-model-idx type="int">0</at-model-idx>

        <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>

        <x-offset-m>0.0</x-offset-m>
        <y-offset-m>5.35</y-offset-m>
        <z-offset-m>-40.0</z-offset-m>
        <!--<limits>
          <enabled type="bool">true</enabled>
          <left>
            <heading-max-deg type="double">170</heading-max-deg>
            <x-offset-max-m type="double">-2</x-offset-max-m>
            <x-offset-threshold-deg type="double">170</x-offset-threshold-deg>
          </left>
          <right>
            <heading-max-deg type="double">190</heading-max-deg>
            <x-offset-max-m type="double">2</x-offset-max-m>
            <x-offset-threshold-deg type="double">190</x-offset-threshold-deg>
          </right>
        </limits>-->
      </config>
    </view>
    <view n="110">
       <name>Selection view (experimental)</name>
       <type>lookfrom</type>
       <config>
         <x-offset-m type="double">0.00</x-offset-m>
         <y-offset-m type="double">3.00</y-offset-m>
         <z-offset-m type="double">20.00</z-offset-m>
         <eye-lat-deg-path>/position/latitude-deg</eye-lat-deg-path>
         <eye-lon-deg-path>/position/longitude-deg</eye-lon-deg-path>
         <eye-alt-ft-path>/fdm/jsbsim/position/h-sl-ft</eye-alt-ft-path>

         <eye-pitch-deg-path>/sim/ja37/radar/selection-pitch-deg</eye-pitch-deg-path>
         <eye-heading-deg-path>/sim/ja37/radar/selection-heading-deg</eye-heading-deg-path>

         <at-model type="bool">true</at-model>
         <at-model-idx type="int">0</at-model-idx>

         <ground-level-nearplane-m type="double">10.0f</ground-level-nearplane-m>
         <default-field-of-view-deg>70</default-field-of-view-deg>
         <limits>
          <enabled type="bool">false</enabled>
         </limits>
       </config>
     </view>
     <view n="120"><!-- 13 in hud.nas -->
        <name>HUD view</name>
        <type>lookfrom</type>
        <internal>true</internal>
        <config>
         <from-model type="bool">true</from-model>
         <from-model-idx type="int">0</from-model-idx>
         <pitch-offset-deg type="double">-10.0</pitch-offset-deg>
         <x-offset-m type="double">0</x-offset-m>
         <y-offset-m type="double">0.71</y-offset-m>
         <z-offset-m type="double">-3.6</z-offset-m>
         <default-field-of-view-deg type="double">65</default-field-of-view-deg>
         <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
         <dynamic-view type="bool">false</dynamic-view>
         <limits>
          <enabled type="bool">false</enabled>
         </limits>
        </config>
        <dynamic>
          <enabled type="bool">false</enabled>
        </dynamic>        
     </view>

  <!--**********************************************************************

                                          Rendering


*************************************************************************-->
    <rendering>
     <redout>
      <enabled>true</enabled>
      <parameters>
        <!-- this will make screen pretty close to black at 9G, think max for pilot functioning is 8G-9G but have no official numbers.-->
       <blackout-complete-g type="double">11.0</blackout-complete-g>
       <blackout-onset-g type="double">8.0</blackout-onset-g>
       <redout-complete-g type="double">-5.0</redout-complete-g>
       <redout-onset-g type="double">-3.5</redout-onset-g>
      </parameters>
     </redout>
    </rendering>


<!--**********************************************************************

                                          Multiplayer


*************************************************************************-->
    <multiplay>
     <generic>
      <!-- effects -->
      <int n="0" alias="/sim/ja37/effect/smoke"/><!-- to show smoke -->
      <int n="7" alias="/damage/sounds/explode-on"/><!-- to show explosion plus its sound -->
      <!-- Animation control surfaces -->
      <int n="1" alias="/fdm/jsbsim/fcs/canopy/hinges/serviceable"/><!-- to show detachment of canopy -->
      <int n="2" alias="/fdm/jsbsim/structural/wings/serviceable"/><!-- to show detachment of wings -->
      <!-- Animating engine -->
      <!-- float n="2" is controlled from nasal -->
      <float n="3" alias="/fdm/jsbsim/propulsion/engine/zone-scaled"/><!-- to animate afterburnerflame -->
      <float n="5" alias="/engines/engine/flame"/><!-- to animate engine flame -->
      <float n="15" alias="/engines/engine/n1"/><!-- used in MP sound -->
      <float n="16" alias="/engines/engine/thrust_lb-absolute"/><!-- used in MP sound -->
      <int n="3" alias="/engines/engine/running"/><!-- used in MP sound -->
      <int n="4" alias="/engines/engine[0]/augmentation"/><!-- used in MP sound -->
      <int n="8" alias="/engines/engine[0]/reversed"/><!-- to animate afterburnerflame -->
      <!-- Animating light -->
      <int n="5" alias="/sim/model/lighting/strobe/state"/><!-- to animate strobe -->
      <float n="4" alias="/sim/ja37/effect/landing-light"/><!-- to animate landing lights -->
      <int n="6" alias="/sim/ja37/effect/landing-light"/><!-- for backwards compatibility -->
      <int n="9" alias="/systems/electrical/lights-ext"/><!-- to animate ext. lights -->
      <int n="15" alias="/sim/model/lighting/beacon/state"/><!-- to animate beacons, backward compat -->
      <float n="1" alias="/sim/model/lighting/beacon/state-rotary"/><!-- to animate beacons -->
      <!-- Stores -->
      <!-- <int n="6" alias="/controls/armament/station[0]/trigger"/> deprecated -->
      <!--<int n="7" alias="/ai/submodels/submodel[0]/flare-release"/> submodels not used in MP -->
      <float n="11" alias="/payload/weight[0]/weight-lb"/><!-- used to show missiles -->
      <float n="12" alias="/payload/weight[1]/weight-lb"/><!-- used to show missiles -->
      <float n="13" alias="/payload/weight[2]/weight-lb"/><!-- used to show missiles -->
      <float n="14" alias="/payload/weight[3]/weight-lb"/><!-- used to show missiles -->
      <int n="16" alias="/consumables/fuel/tank[8]/jettisoned"/><!-- used for drop tank -->
      <!-- gears -->
      <float n="8" alias="/gear/gear/compression-ft"/><!-- used for gear anim, deprecated -->
      <float n="9" alias="/gear/gear[1]/compression-ft"/><!-- used for gear anim, deprecated -->
      <float n="10" alias="/gear/gear[2]/compression-ft"/><!-- used for gear anim, deprecated -->
      <int n="17" alias="/gear/gear[0]/wow"/><!-- used in MP sound -->
      <int n="18" alias="/gear/gear[1]/wow"/><!-- used in MP sound -->
      <int n="19" alias="/gear/gear[2]/wow"/><!-- used in MP sound -->
      <float n="0" alias="/gear/gear[0]/steering-norm"/>
      <!-- Position and speed -->
      <float n="6" alias="/position/altitude-ft"/><!-- used for vapor-cone -->
      <float n="7" alias="/velocities/mach"/><!-- used for vapor-cone -->
      <float n="17" alias="/velocities/airspeed-kt"/><!-- used in MP sound -->
      <float n="18" alias="/velocities/speed-down-fps"/><!-- used in MP sound -->
      <!-- for Bombable: -->
      <string n="9" type="string"/>
      <int n="10" alias="/controls/armament/station[0]/trigger"/><!-- used to fire cannon in bombable -->
      <int n="11" alias="/controls/armament/station[1]/trigger"/><!-- used to fire missile in bombable -->
      <int n="12" alias="/controls/armament/station[2]/trigger"/><!-- used to fire missile in bombable -->
      <int n="13" alias="/controls/armament/station[3]/trigger"/><!-- used to fire missile in bombable -->
      <int n="14" alias="/controls/armament/station[4]/trigger"/><!-- used to fire missile in bombable -->
      <!-- misc -->
      <string n="0" alias="/sim/aircraft-version"/>
     </generic>
    </multiplay>


<!--**********************************************************************

                                          Help


*************************************************************************-->
    <help>
     <title>Saab JA-37 Viggen</title>
     <key>
      <name>s</name>
      <desc>Startup / shutdown (if walker is enabled use menu instead)</desc>
     </key>
     <key>
      <name>Backspace</name>
  		<desc>Toggle thrust reverser</desc>
  	 </key>
     <key>
      <name>Ctrl-f</name>
      <desc>Hold down to trigger flare release</desc>
     </key>
     <key>
      <name>e</name>
      <desc>Fire selected weapon</desc>
     </key>
     <key>
      <name>CTRL-5</name>
      <desc>Select cannon</desc>
     </key>
     <key>
      <name>CTRL-1..4</name>
      <desc>Select missiles</desc>
     </key>
     <key>
      <name>J</name>
      <desc>Jettison Drop tank in flight</desc>
     </key>
     <key>
      <name>Del</name>
      <desc>Yaw damper on/off</desc>
     </key>
     <key>
      <name>Shift Del</name>
      <desc>Pitch damper on/off</desc>
     </key>
     <key>
      <name>Ctrl Del</name>
      <desc>Roll damper on/off</desc>
     </key>
     <key>
      <name>o</name>
      <desc>Toggle canopy</desc>
     </key>
     <key>
      <name>H</name>
      <desc>HUD Brightness</desc>
     </key>
     <key>
      <name>h</name>
      <desc>Toggle masterarm</desc>
     </key>
     <key>
      <name>I</name>
      <desc>Toggle HUD units. Metric/imperial.</desc>
     </key>
     <key>
      <name>c</name>
      <desc>Cycle weapons</desc>
     </key>
     <key>
      <name>P</name>
      <desc>Toggle custom/FG HUD</desc>
     </key>
     <key>
      <name>M</name>
      <desc>Toggle nose wheel steering</desc>
     </key>
     <key>
      <name>r</name>
      <desc>Toggle radar</desc>
     </key>
     <key>
      <name>f</name>
      <desc>Set autopilot to follow current selection</desc>
     </key>
     <key>
      <name>F</name>
      <desc>Set autopilot to stop follow</desc>
     </key>
     <key>
      <name>S</name>
      <desc>Cycle smoke. Off, Yellow or Blue</desc>
     </key>
     <key>
      <name>i</name>
      <desc>Toggle HUD to show type or callsign on radar tracks</desc>
     </key>
     <key>
      <name>n</name>
      <desc>Cycle next radar track selection</desc>
     </key>
     <key>
      <name>N</name>
      <desc>Select radar track center most in HUD</desc>
     </key>
     <key>
      <name>Ctrl Shift a</name>
      <desc>Continue on current heading, speed and altitude with A/P</desc>
     </key>
     <!--<key>  as the real Viggen does not have carrier capacity, these functions are not officially documented. It works though.
      <name>L</name>
      <desc>Carrier launch-bar engage (hold for 10 seconds)</desc>
     </key>
     <key>
      <name>C</name>
      <desc>Carrier catapult launch</desc>
     </key>
     <key>
      <name>l</name>
      <desc>Toggle arrester hook</desc>
     </key>
     <key>
      <name>Shift-backspace</name>
      <desc>Reload A/P</desc>
     </key>
     <key>
      <name>m</name>
      <desc>Toggle configure HUD for final approach</desc>
     </key> -->
     <text>
      Startup
      _______
      Start up engine and systems
      Wait for the engine to spool up and generator to turn on.
      Calibrate the altimeter.
      Apply full throttle with afterburner.
      Release parking brakes.
      
      Takeoff
      _______
      Mind the sidewind indicator in the HUD.
      Pull back on the stick when the distance scale upper marker is aligned with the lower.
      Takeoff at 315 km/h. (170 kt)

      Landing
      _______
      Land with speeds within 195-249km/h. (105-134 kt) and an Angle of Attack of 16.5 degrees.
      Deploy reverse thrust and brakes after touchdown.

      Landing with ILS or TILS
      ________________________
      Below the HUD horizon line is a line with a dot in the middle. When within ILS range, align the dot in the center and keep the flight path indicator on it. Close to that same line is also 4 vertical lines, align the top of those to the horizontal line (not the horizon line).
      The heading bug will indicate the touchdown spot.

      Flaps
      _____
      The JA-37 control the flaps automatically.
      At takeoff and landing it will set flaps to 30 degrees down.
      In flight it will be set at 4 degrees up.    

      Afterburner stages
      __________________
      The afterburner has 3 stages, the throttle controls this. Throttle position 94% = stage 1, 96% = stage 2, 98% = stage 3
      The nozzle indicator alternate as a afterburner stage indicator.

      HUD info
      ________
      The HUD uses Km/h and meters, but this can be switched to imperial with 'I'.
      The HUD switches automatically between takeoff, landing, navigation and tactical mode.
      An exception is when landing mode switch is activated, that will force landing mode, when not in takeoff mode.
      When in takeoff mode the sidewind indicator - -o- - will move to a side according to sidewind.
      The vertical tail on the flight path indicator will move/blink according to AoA.
      In tactical mode when the cannon is selected, a fixed crosshair will appear.
      In tactical mode the reticle change if out of ammo.
      The digital altimeter to the left will use rader below 100 meters (328 ft), a 'R' is shown. when this happens, and regular altimeter above, up till 9999.
      If the radar-altimeter detects that the altimeter is not calibrated correct, it will blink QFE (happens only below 100 meters (328 ft) above terrain).
      If QFE is displayed, but not blinking, the altimeter have been calibrated correctly.
      The digital airspeed indicator at the bottom, will use Km/h until mach 0.5, after that it will show mach number. If using imperial units, it will show mach number and knots at same time.
      The artificial horizon and pitch lines are spaced 5 degrees.
      To the right is a altimeter scale, below 100 meter the scale will become more detailed and below 50 even more. Above 1000, one floating point decimal precision.
      On the altimeter the symbol '77' indicates where radar altimeter detects the ground to be below plane centerline.
      Next to '0' on the alt scale a '|' symbol will appear if the radar altimeter ground is higher than the altimeter 0.
      The heading at the top is shown as a scale showing 1/10 of heading in degrees. The scale will move to the hozizon line in landing mode.
      Radar tracks are shown as semi-circles, the nearest will also show callsign and distance. In tactical mode the selected radar track is the target, and will be shown as a semi-box, it will change to a diamond with missile lock.
      Nearest tower is shown as a small diamond, with ICAO and distance. It will not be shown in tactical mode though.
      
      Warnings
      ________
      Deploying gear above 30 meters at high and medium speeds will produce a powerful pitch up moment.
      The Swedish Airforce forbids flying in superstall regime, so make sure the control tower do not catch you doing that. :)
      Beware trying to land if the gears are damaged.
      If you try to extend the gears at high speed they won't extend till you get into lower speeds. The limit is 0.65M or 620Km/h (335KTS).
      The gears will not retract on the runway.

      Automatic Thrust reversing
      __________________________
      This can be enabled in the JA37-Options menu. It will enable the reverse thrust when you touch down with all 3 gears.
      If you take off from a rough strip or without runway, the ground bumpiness will enable this and prevent you from taking off. So in that case I recommend switching it off.

      Using autopilot to follow target
      ________________________________
      The HUD must turned on and a something selected.
      Press 'f'. Then the auto-pilot will enable automatic thrust, pitch and heading control. The plane will now intercept and closely follow the target.
      If the target changes during the intercept, it will not switch to the new target.
      To stop, press 'F' and disable autopilot control. Or select another and press 'f' again to follow that instead.

      Using the Selection View
      ________________________
      This view will keep the Viggen in view while at the same time pointing the camera at the selected entity.
      Do not rotate the camera in this view, that will ruin its ability to track the selection. You can however zoom without a problem.

      Repairing
      _________
      In FG 3.2+ you can repair failed systems in the old failure dialogs, but there are many systems that the dialogs does not show. To be sure the aircraft is fully repaired you should select the menu option Repair under the JA37 menu.

      Liveries
      ________
      Livery 59, uses half the texture memory of the other liveries.

      Trivia
      ______
      This is the mid 80'ties version. So it has no airbrake
      400 meter runway is required to takeoff.
      500 meter runway is required to land.
      Climb to 10,000m from brakes off in less than 100 seconds.
      Supersonic speed at low altitude in less than 60 seconds from take-off.
      Mach 1.25 at 100m altitude.
      Maximum speed: Mach 2+ at 11,000m alt (36,000 ft).
      Service ceiling: 18,300 m (60,000 ft)
      From mach 0.6 till 0.8 it accelerates faster than F-16A. (tested against a Danish F-16A)
      
      Notes:
      _____
      Hangar homepage: https://sites.google.com/site/fghangar
      </text>
    </help>


<!--**********************************************************************

                                          JA-37 Menu


*************************************************************************-->
    <menubar>
     <default>
      <menu n="100">
       <label>JA-37</label>
       <enabled type="bool">true</enabled>
       <item>
        <label>Select Livery</label>
        <binding>
         <command>nasal</command>
         <script>
          aircraft.livery.dialog.toggle();
         </script>
        </binding>
       </item>
       <item>
        <label>Auto start/stop</label>
        <binding>
         <command>nasal</command>
         <script>ja37.autostarttimer();</script>
        </binding>
       </item>
       <item>
        <label>Repair</label>
        <binding>
         <command>nasal</command>
         <script>ja37.repair();</script>
        </binding>
       </item>
       <item>
        <label>Reload air to air</label>
        <binding>
         <command>nasal</command>
         <script>ja37.reloadAir2Air();</script>
        </binding>
       </item>
       <item>
        <label>Reload air to ground</label>
        <binding>
         <command>nasal</command>
         <script>ja37.reloadAir2Ground();</script>
        </binding>
       </item>
        <item>
          <label>Performance Monitor</label>
          <binding>
           <command>nasal</command>
           <script>
              monitor.PerformanceMonitor.instance().start();
           </script>
          </binding>
        </item>
        <item>
          <label>Systems Monitor</label>
          <binding>
           <command>nasal</command>
           <script>
              monitor2.SystemsMonitor.instance().start();
           </script>
          </binding>
        </item>
        <item>
          <label>Toggle external power</label>
          <binding>
            <command>property-toggle</command>
            <property>fdm/jsbsim/systems/electrical/external/enable-cmd</property>
          </binding>
        </item>
        <item>
          <label>Options</label>
          <binding>
           <command>nasal</command>
           <script>
            ja37.Dialog.show();
           </script>
          </binding>
       </item>
      </menu>
     </default>
    </menubar>




<!--**********************************************************************

                                          Systems


*************************************************************************--> 
    <systems>
      <path>Aircraft/JA37/Systems/systems.xml</path>
      <!--<electrical>
       <outputs>
        <adi type="int">24</adi>
        <rwr type="double">24</rwr>
       </outputs>
      </electrical>-->
      <!--*****************************
                     Autopilot
      ********************************--> 
      <autopilot>
        <path>Aircraft/JA37/Systems/Autopilot.xml</path>
      </autopilot>
    </systems>

    <checklists include="Systems/ja37-checklists.xml"/>

<!--**********************************************************************

                                          Properties


*************************************************************************--> 
    <ja37>
      <accelerations>
        <pilot-G type="double">1.0</pilot-G>
      </accelerations>
      <autoReverseThrust userarchive="y" type="bool">false</autoReverseThrust>
      <supported>
        <old-custom-fails type="int">0</old-custom-fails>
        <hud type="bool">false</hud>
        <radar type="bool">false</radar>
        <options type="bool">false</options>
        <landing-light type="bool">false</landing-light>
        <initialized type="bool">false</initialized>
        <popuptips type="int">0</popuptips>
        <crash-system type="int">0</crash-system>
        <ubershader type="bool">false</ubershader>
        <fuel-temp type="bool">true</fuel-temp>
      </supported>
      <failures>
        <installed type="bool">false</installed>
      </failures>
      <radar>
        <selectedMP type="int">-1</selectedMP>
        <selected type="int">-1</selected>
        <enabled userarchive="y" type="bool">true</enabled>
      </radar>
      <effect>
        <landing-light type="bool">false</landing-light>
        <smoke type="int">1</smoke><!-- 1: off  2: yellow  3: blue -->
      </effect>
      <blink>
        <five-Hz type="bool">false</five-Hz>
        <ten-Hz type="bool">false</ten-Hz>
      </blink>
      <hud>
        <tracks-enabled type="bool">true</tracks-enabled>
        <units-metric userarchive="y" type="bool">true</units-metric>
        <mode userarchive="y" type="bool">true</mode>
        <current-mode type="int">0</current-mode>
        <combat type="bool">false</combat>
        <bank-indicator userarchive="y" type="bool">false</bank-indicator>
        <callsign type="bool">true</callsign>
        <stroke-linewidth userarchive="y" type="double">4.0</stroke-linewidth>
        <TILS type="bool">false</TILS>
        <landing-mode type="bool">false</landing-mode>
        <final type="bool">false</final>
      </hud>
      <sound>
        <click-on type="bool">false</click-on>
        <terrain-on type="bool">false</terrain-on>
        <speed-on type="bool">false</speed-on>
        <mp-volume type="double">0.4</mp-volume>
        <breath-volume type="double">0</breath-volume>
        <annunciation-enabled type="bool">true</annunciation-enabled>
      </sound>
      <damage>
        <enabled type="bool">true</enabled>
      </damage>
      <armament>
        <msg type="bool">false</msg>
        <rb24>
          <sound-on-off type="bool">false</sound-on-off>
          <sound-volume type="double">0.0</sound-volume>
          <!-- RB-24J specs (Swedish version of sidewinder) -->
          <max-detection-rng-nm type="int">10</max-detection-rng-nm><!-- Aim-9J/rb-24j range is 7.83nm -->
          <fov-deg type="int">25</fov-deg>                     <!-- seeker optical FOV -->
          <detection-fov-deg type="int">60</detection-fov-deg> <!-- Search pattern diameter (rosette scan) -->
          <track-max-deg type="int">110</track-max-deg>        <!-- Seeker max total angular rotation -->
          <max-g type="int">39</max-g>                         <!-- In turn -->
          <thrust-lbs type="double">230</thrust-lbs>           <!-- should achieve speed of 2.5+ mach orig:230 -->
          <thrust-duration-sec type="int">40</thrust-duration-sec><!-- Aim-9J/rb-24j -->
          <weight-launch-lbs>188</weight-launch-lbs>           <!-- Aim-9J/rb-24j -->
          <weight-warhead-lbs>9.92</weight-warhead-lbs>        <!-- Aim-9J/rb-24j -->
          <drag-coeff type="double">0.05</drag-coeff>          <!-- guess -->
          <drag-area type="double">0.043</drag-area>           <!-- sq ft -->
        </rb24>
      </armament>  
      <avionics>
        <altimeters-calibrated type="bool">0</altimeters-calibrated>
      </avionics>
    </ja37>
    <replay>
      <buffer>
        <high-res-time type="double">1200</high-res-time>             <!-- default:   60 -->
        <medium-res-time type="double">1200</medium-res-time>         <!-- default:  600 -->
        <low-res-time type="double">3600</low-res-time>               <!-- default: 3600 -->
        <medium-res-sample-dt type="double">0.5</medium-res-sample-dt><!-- default:  0.5 -->
        <low-res-sample-dt type="double">5</low-res-sample-dt>        <!-- default:    5 -->
      </buffer>
    </replay>
    <carrier>
      <enabled type="bool">false</enabled>
      <heading-deg>0</heading-deg>
      <no-catapult-definition type="bool">true</no-catapult-definition>
    </carrier>
    <time>
      <full-init type="bool">false</full-init>
    </time>
  </sim>
 <ai>
  <submodels>
    <submodel n="2">
      <random userarchive="y" type="bool">false</random>
    </submodel>
    <submodel n="3">
      <random userarchive="y" type="bool">false</random>
    </submodel>
  </submodels>
 </ai>
 <fdm>
  <jsbsim>
    <structural>
      <wings>
        <serviceable type="bool">true</serviceable>
      </wings>
    </structural>
    <fcs>
      <canopy>
        <engage type="bool"/>
        <has-power/>
        <serviceable type="bool">true</serviceable>
        <hinges>
          <serviceable type="bool">true</serviceable>
        </hinges>
        <pos-norm type="double">1.0</pos-norm>
      </canopy>
      <yaw-damper>
        <serviceable type="bool">true</serviceable>
        <enable type="bool">true</enable>
        <yaw-rate-gain type="double">3</yaw-rate-gain>
        <roll-rate-gain type="double">0.125</roll-rate-gain>
        <lateral-acc-gain type="double">-0.05</lateral-acc-gain>
        <washout-factor type="double">1.0</washout-factor>
      </yaw-damper>
      <pitch-damper>
        <serviceable type="bool">true</serviceable>
        <enable type="bool">true</enable>
        <pitch-rate-gain type="double">2</pitch-rate-gain>
        <washout-factor type="double">1.33</washout-factor>
      </pitch-damper>
      <roll-limiter>
        <serviceable type="bool">true</serviceable>
        <enable type="bool">true</enable>
        <!--<washout-factor type="double">1.0</washout-factor>-->
        <roll-rate-gain type="double">0.10</roll-rate-gain>
      </roll-limiter>
      <rudder>
        <limiter-enable type="bool">true</limiter-enable>
        <serviceable alias="/sim/failure-manager/controls/flight/rudder/serviceable"/>
      </rudder>
      <aileron>
        <limiter-enable type="bool">true</limiter-enable>
        <limit-factor type="double">1.0</limit-factor>
        <serviceable alias="/sim/failure-manager/controls/flight/aileron/serviceable"/>
      </aileron>
      <elevator>
        <limiter-enable type="bool">true</limiter-enable>
        <serviceable alias="/sim/failure-manager/controls/flight/elevator/serviceable"/>
      </elevator>
      <flaps>
        <pos-cmd type="double">0</pos-cmd>
        <tmp-norm type="double">0.11765</tmp-norm>
        <serviceable alias="/sim/failure-manager/controls/flight/flaps/serviceable"/>
      </flaps>
      <mouse-optimized type="bool">false</mouse-optimized>
    </fcs>
    <gear>
      <serviceable alias="/gear/serviceable"/>
      <unit n="0">
        <nose-wheel-steering>
          <serviceable type="bool">true</serviceable>
          <enable type="bool">true</enable>
        </nose-wheel-steering>
      </unit>
    </gear>
    <ground>
      <carrier-near type="bool">false</carrier-near>
    </ground>
    <systems>
      <catapult_free>
        <cat-launch-cmd type="bool">false</cat-launch-cmd>
      </catapult_free>
      <holdback_free>
        <holdback-cmd type="bool">false</holdback-cmd>
      </holdback_free>
      <launchbar_free>
        <lock-cmd type="bool">false</lock-cmd>
      </launchbar_free>
      <flapscontrol>
        <serviceable/>
      </flapscontrol>
      <hook>
        <tailhook-cmd-norm type="bool">false</tailhook-cmd-norm>
      </hook>
      <hydraulics>
        <system1>
          <main>
            <serviceable type="bool">true</serviceable>
          </main>
          <pressure type="bool">false</pressure>
        </system1>
        <system2>
          <main>
            <serviceable type="bool">true</serviceable>
          </main>
          <reserve>
            <serviceable type="bool">true</serviceable>
          </reserve>
          <pressure type="bool">false</pressure>
        </system2>
      </hydraulics>
      <electrical>
        <battery-charge-norm type="double">1.0</battery-charge-norm>
        <battery-active type="bool">false</battery-active>
        <external>
          <enable-cmd type="bool">false</enable-cmd>
          <switch type="bool">false</switch>
        </external>
      </electrical>      
    </systems>
    <aero>
      <factor-axial-mach type="double">1.0</factor-axial-mach>
      <factor-axial type="double">0.55</factor-axial>
      <function>
        <vortex type="double">1.0</vortex>
      </function>
      <drag>
        <!-- drag - Notice fuselage is about 0.024 at alpha=0 -->
        <gear type="double">        0.020</gear><!-- fully extended -->
        <flaps type="double">       0.010</flaps><!-- full 30 degrees downward deflection of canard flaps -->
        <missile type="double">     0.00075</missile>
        <drop-tank type="double">   0.0015</drop-tank>
        <canopy type="double">      0.025</canopy><!-- fully open -->
        <canopy-off type="double">  0.015</canopy-off><!-- broken off -->
        <rudder type="double">      0.010</rudder><!-- at full 25 degrees deflection -->
        <elevon-left type="double"> 0.015</elevon-left><!-- full 40 degrees upward deflection -->
        <elevon-right type="double">0.015</elevon-right><!-- full 40 degrees upward deflection -->
      </drag>
    </aero>
    <inertia>
      <asymmetric-wing-load type="int">0</asymmetric-wing-load>
    </inertia>
    <autopilot>
      <one type="double">0.01667</one>
    </autopilot>
    <propulsion>
      <engine>
        <augmentation type="double">0</augmentation>
        <zone type="double">0</zone>
        <zone-factor type="double">1</zone-factor>
      </engine>
    </propulsion>
    <launchbar>
      <launch-bar-pos-norm type="double">0</launch-bar-pos-norm>
    </launchbar>
    <position>
      <selection-view-offset type="double">5</selection-view-offset>
    </position>
  </jsbsim>
 </fdm>
 <controls>
  <armament>
    <station-select type="int">0</station-select><!-- cannon selected by default -->
    <trigger type="bool">false</trigger>
    <station n="1">
      <offsets>
        <x-m type="double">  4.15986</x-m>
        <y-m type="double"> -2.70311</y-m>
        <z-m type="double"> -0.67645</z-m>
      </offsets>
      <trigger type="bool">false</trigger>
    </station>
    <station n="2">
      <offsets>
        <x-m type="double"> -0.02697</x-m>
        <y-m type="double"> -0.98148</y-m>
        <z-m type="double"> -0.94307</z-m>
      </offsets>
      <trigger type="bool">false</trigger>
    </station>
    <station n="3">
      <offsets>
        <x-m type="double">  4.15986</x-m>
        <y-m type="double">  2.70311</y-m>
        <z-m type="double"> -0.67645</z-m>
      </offsets>
      <trigger type="bool">false</trigger>
    </station>
    <station n="4">
      <offsets>
        <x-m type="double"> -0.02697</x-m>
        <y-m type="double">  0.98148</y-m>
        <z-m type="double"> -0.94307</z-m>
      </offsets>
      <trigger type="bool">false</trigger>
    </station>            
  </armament>
  <engines>
    <engine n="0">
      <starter-cmd type="bool">false</starter-cmd>
      <cutoff type="bool">true</cutoff>
      <reverse-system>
        <serviceable type="bool">true</serviceable>
      </reverse-system>
    </engine>
  </engines>
  <gear>
    <brake-parking type="bool">true</brake-parking>
    <launchbar>
        <state type="string">Disengaged</state>
    </launchbar>
  </gear>
  <electric>
    <main type="bool">false</main>
    <battery type="bool">false</battery>
    <lights-ext-switch type="bool">true</lights-ext-switch>
    <lights-land-switch type="bool">true</lights-land-switch>
  </electric>
  <lighting>
    <instruments-norm type="double">0.0</instruments-norm>
  </lighting>
</controls>
<gear>
  <serviceable type="bool">true</serviceable>
</gear>
<environment>
  <aircraft-effects>
      <splash-vector-x type="float" userarchive="n">0.0</splash-vector-x>
      <splash-vector-y type="float" userarchive="n">0.1</splash-vector-y>
      <splash-vector-z type="float" userarchive="n">1.0</splash-vector-z>
      <frost-level type="float" userarchive="n">0.0</frost-level>
      <fog-level type="float" userarchive="n">0.0</fog-level>
      <ground-splash-norm type="float" userarchive="n">0.0</ground-splash-norm>
      <use-wipers type="int" userarchive="n">0</use-wipers>
      <use-overlay type="int" userarchive="n">0</use-overlay>
      <overlay-alpha type="float" userarchive="n">1.0</overlay-alpha>
  </aircraft-effects>
  <precipitation-control>
    <clip-distance type="double">1.75</clip-distance>
  </precipitation-control>
  <pressure-inhg type="double">30</pressure-inhg>
</environment>
<autopilot>
  <target-tracking-ja37>
    <min-speed-kt type="double">190</min-speed-kt>
    <enable type="bool">false</enable>
  </target-tracking-ja37>
  <target-tracking>
    <min-speed-kt type="double">190</min-speed-kt>
  </target-tracking>
</autopilot>
<systems>
  <path>Aircraft/JA37/Systems/systems.xml</path>
  <electrical>
    <lights-ext type="int">0</lights-ext>
    <!--<generator_enabled type="bool">false</generator_enabled>
    <generator_on type="bool">false</generator_on>
    <battery_voltage type="double">0</battery_voltage>
    <battery-charge-norm type="double">1.0</battery-charge-norm>-->
    <outputs>
      <dc-voltage type="double">0</dc-voltage><!--
      <hud type="double">0</hud>
      <radar type="double">0</radar>
      <battery type="double">0</battery>
      <comm n="0" type="double">0</comm>
      <comm n="1" type="double">0</comm>-->
    </outputs>
  </electrical>
  <generator>
    <serviceable type="bool">true</serviceable>
  </generator>
</systems>

<!--**********************************************************************

                                          Payload


*************************************************************************--> 
<payload>
  <weight n="0">
        <name>Left wing pylon</name>
        <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[1]"/>
        <selected>none</selected>
        <opt><name>none</name><lbs>0</lbs></opt>
        <opt><name>RB 24J</name><lbs>188</lbs></opt>
        <opt><name>M70</name><lbs>200</lbs></opt>
  </weight>
  <weight n="1">
        <name>Left fuselage pylon</name>
        <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[2]"/>
        <selected>none</selected>
        <opt><name>none</name><lbs>0</lbs></opt>
        <opt><name>RB 24J</name><lbs>188</lbs></opt>
        <opt><name>M70</name><lbs>200</lbs></opt>
  </weight>
  <weight n="2">
        <name>Right wing pylon</name>
        <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[3]"/>
        <selected>none</selected>
        <opt><name>none</name><lbs>0</lbs></opt>
        <opt><name>RB 24J</name><lbs>188</lbs></opt>
        <opt><name>M70</name><lbs>200</lbs></opt>
  </weight>
  <weight n="3">
        <name>Right fuselage pylon</name>
        <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[4]"/>
        <selected>none</selected>
        <opt><name>none</name><lbs>0</lbs></opt>
        <opt><name>RB 24J</name><lbs>188</lbs></opt>
        <opt><name>M70</name><lbs>200</lbs></opt>
  </weight>
  <weight n="4">
        <name>Center fuselage pylon</name>
        <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[5]"/>
        <selected>Drop tank</selected>
        <opt><name>none</name><lbs>0</lbs></opt>
        <opt><name>Drop tank</name><lbs>400</lbs></opt>
  </weight>
</payload>

<!--**********************************************************************

                                          Engines


*************************************************************************-->
 <engines>
  <engine n="0">
   <running type="bool">false</running>
   <reverser-pos-norm type="double">0</reverser-pos-norm>
   <reverser-position type="double">0.000000</reverser-position>
  </engine>
 </engines>


<!--**********************************************************************

                                          Inputs


*************************************************************************--> 
 <input>
   <keyboard>
    <key n="1">
      <name>Shift-Ctrl-A</name>
      <mod-shift>
        <desc>Autopilot continue on heading/alt</desc>
        <binding>
         <command>nasal</command>
         <script>
           ja37.apCont();
         </script>
        </binding>
      </mod-shift>
     </key>
    <key n="108">
      <name>l</name>
      <desc>Toggle arrester hook</desc>
      <binding>
        <command>nasal</command>
        <script>ja37.toggleHook()</script>
      </binding>
     </key>

    <!-- map keys for catapult launch -->
     <key n="67">
        <name>C</name>
        <desc>Catapult Launch Command.</desc>
        <binding>
            <command>property-assign</command>
            <property>/fdm/jsbsim/systems/catapult_free/cat-launch-cmd</property>
            <value>1.0</value>
        </binding>
        <binding>
          <command>nasal</command>
          <script>ja37.click();
                  if (getprop("/fdm/jsbsim/ground/carrier-near") == 1) {
                    ja37.popupTip("Catapult launch");
                  } else {
                    ja37.popupTip("Catapult not launching. (not on carrier deck)");
                  }</script>
        </binding>
     </key>

     <!-- map keys for launch-bar -->
     <key n="76">
        <name>L</name>
        <desc>Launch-bar engage.</desc>
        <binding>
          <command>nasal</command>
          <script>ja37.click();
                  if (getprop("/fdm/jsbsim/ground/carrier-near") == 1) {
                    setprop("/fdm/jsbsim/systems/launchbar_free/lock-cmd", 1);
                    setprop("fdm/jsbsim/systems/catapult_free/cat-launch-cmd", 0);
                    setprop("/fdm/jsbsim/systems/launchbar/store-timer", 1);
                    setprop("/fdm/jsbsim/systems/launchbar-locked-time-mem", 0);
                    ja37.popupTip("Launchbar engaging.");
                  } else {
                    ja37.popupTip("Launchbar not engaging. (not on carrier deck)");
                  }</script>
        </binding>
        <mod-up>
            <binding>
                <command>property-assign</command>
                <property>/fdm/jsbsim/systems/launchbar/store-timer</property>
                <value>0</value>
            </binding>
            <binding>
              <command>nasal</command>
              <script>ja37.click()</script>
            </binding>
         </mod-up>
     </key>

    <key n="110">
      <name>n</name>
      <desc>Next selection</desc>
      <binding>
        <command>nasal</command>
        <script>radar_logic.nextTarget()</script>
      </binding>
    </key>
    <key n="78">
      <name>N</name>
      <desc>Select centermost</desc>
      <binding>
        <command>nasal</command>
        <script>radar_logic.centerTarget()</script>
      </binding>
    </key>
    <key n="105">
      <name>i</name>
      <desc>Toggle type/callsign</desc>
      <binding>
        <command>nasal</command>
        <script>canvas_HUD.toggleCallsign()</script>
      </binding>
    </key>
    <key n="83">
      <name>S</name>
      <desc>Cycle smoke</desc>
      <binding>
        <command>nasal</command>
        <script>ja37.cycleSmoke()</script>
      </binding>
    </key>
    <key n="66">
      <name>B</name>
      <desc>Toggle parking brake on or off</desc>
      <binding>
       <command>nasal</command>
       <script>ja37.applyParkingBrake(1)</script>
      </binding>
      <mod-up>
       <binding>
        <command>nasal</command>
        <script>ja37.applyParkingBrake(0)</script>
       </binding>
      </mod-up>
    </key>
    <key n="104">
      <name>h</name>
      <desc>Toggle masterarm</desc>
      <binding>
        <command>nasal</command>
        <script>canvas_HUD.toggle_combat()</script>
      </binding>
    </key>
    <key n="72">
      <name>H</name>
      <desc>Cycle HUD Brightness</desc>
      <binding>
       <command>nasal</command>
       <script>canvas_HUD.cycle_brightness()</script>
      </binding>
     </key>
     <key n="73">
    <name>I</name>
      <desc>Switch HUD units.</desc>
      <binding>
       <command>nasal</command>
       <script>canvas_HUD.cycle_units()</script>
      </binding>
    </key> 
    <key n="99">
      <name>c</name>
      <desc>Cycle weapons.</desc>
      <binding>
       <command>nasal</command>
       <script>ja37.cycle_weapons()</script>
      </binding>
    </key>
    <key n="114">
      <name>r</name>
      <desc>Toggle radar</desc>  
      <binding>
       <command>nasal</command>
       <script>ja37.toggleTracks()</script>
      </binding>
    </key> 
    <key n="80">
     <name>P</name>
     <desc>Toggle custom/FG HUD</desc>
     <binding>
      <command>property-toggle</command>
      <property>/sim/ja37/hud/mode</property>
     </binding>
    </key>
    <key n="115">
      <name>s</name>
      <desc>Start engine</desc>
      <binding>
         <command>nasal</command>
         <script>ja37.autostarttimer();</script>
      </binding>
      <mod-up>
        <!--just to overwrite default s key up -->
        <binding>
          <command>nasal</command>
          <script>ja37.noop()</script>
        </binding>
      </mod-up>
    </key>
    <key n="6">
     <name>Ctrl-F</name>
     <desc>Trigger flare release</desc>
     <binding>
      <command>property-toggle</command>
      <property>/ai/submodels/submodel[0]/flare-release</property>
      <value type="bool">true</value>
     </binding>
     <mod-up>
      <binding>
       <command>property-assign</command>
       <property>/ai/submodels/submodel[0]/flare-release</property>
       <value type="bool">false</value>
      </binding>
     </mod-up>
    </key>
    <key n="53">
     <name>CTRL-5</name>
     <mod-ctrl>
       <desc>Select cannon</desc> 
       <binding>
        <command>property-assign</command>
        <property>controls/armament/station-select</property>
        <value>0</value>
       </binding>
       <binding>
          <command>nasal</command>
          <script>ja37.click();</script>
       </binding>
    </mod-ctrl>
    </key>
    <key n="49">
     <name>CTRL-1</name>
     <mod-ctrl>
      <desc>Select missile 1</desc>
       <binding>
        <command>property-assign</command>
        <property>controls/armament/station-select</property>
        <value>1</value>
       </binding>
       <binding>
        <command>nasal</command>
        <script>ja37.click();</script>
      </binding>
    </mod-ctrl>
    </key>
    <key n="50">
     <name>CTRL-2</name>
     <mod-ctrl>
     <desc>Select missile 2</desc> 
     <binding>
      <command>property-assign</command>
      <property>controls/armament/station-select</property>
      <value>2</value>
     </binding>
     <binding>
        <command>nasal</command>
        <script>ja37.click();</script>
      </binding>
     </mod-ctrl>
    </key>
    <key n="51">
     <name>CTRL-3</name>
     <mod-ctrl>
     <desc>Select missile 3</desc> 
     <binding>
      <command>property-assign</command>
      <property>controls/armament/station-select</property>
      <value>3</value>
     </binding>
     <binding>
        <command>nasal</command>
        <script>ja37.click();</script>
      </binding>
     </mod-ctrl>
    </key>
    <key n="52">
     <name>CTRL-4</name>
     <mod-ctrl>
     <desc>Select missile 4</desc> 
     <binding>
      <command>property-assign</command>
      <property>controls/armament/station-select</property>
      <value>4</value>
     </binding>
     <binding>
        <command>nasal</command>
        <script>ja37.click();</script>
      </binding>
     </mod-ctrl>
    </key>                
    <key n="101">
     <name>e</name>
     <desc>Trigger</desc> 
     <binding>
      <command>property-assign</command>
      <property>controls/armament/trigger</property>
      <value>true</value>
     </binding>
     <mod-up>
      <binding>
       <command>property-assign</command>
       <property>controls/armament/trigger</property>
       <value>false</value>
      </binding> 
     </mod-up>
    </key>
    <key n="102">
     <name>f</name>
     <desc>Set autopilot to follow current target</desc> 
     <binding>
       <command>nasal</command>
       <script>ja37.follow();</script>
     </binding>
    </key>
    <key n="70">
     <name>F</name>
     <desc>Set autopilot to stop follow current target</desc> 
     <binding>
       <command>nasal</command>
       <script>ja37.unfollow();</script>
     </binding>
    </key>
    <key n="8">
    <name>Backspace</name>
    <desc>Toggle Reversers</desc>
    <binding>
     <command>nasal</command>
     <script>reversethrust.togglereverser();</script>
    </binding>
   </key>
   <!--<key n="127">
    <name>Shift-Delete</name>-->
    <!--<repeatable type="bool">true</repeatable>-->
    <!--<mod-shift>
     <desc>Reload sound configuration (for debugging AP)</desc>
     <binding>
      <command>nasal</command>
      <script>
       fgcommand('reinit', props.Node.new({ subsystem: "sound" }));
       print("sound reinitialized!");
       ja37.popupTip("Sound reinit.");
      </script>
     </binding>
    </mod-shift>
   </key>-->
   <key n="8">
    <name>Shift-Backspace</name>
    <mod-shift>
     <desc>Reload autopilot configuration (for debugging AP)</desc>
     <binding>
      <command>nasal</command>
      <script>
       fgcommand('reinit', props.Node.new({ subsystem: "xml-autopilot" }));
       print("xml-autopilot reinitialized!");
       ja37.popupTip("Autopilot reinit.");
      </script>
     </binding>
    </mod-shift>
   </key>
    <key n="127">
     <name>Delete</name>
     <desc>Yaw damper on/off</desc>
    <binding>
     <command>nasal</command>
     <script>ja37.toggleYawDamper();</script>
    </binding>
    </key>
    <key n="127">
     <name>Shift delete</name>
     <desc>Pitch damper on/off</desc>
     <mod-shift>
        <binding>
        <command>nasal</command>
        <script>ja37.togglePitchDamper();</script>
        </binding>
      </mod-shift>
    </key>
    <key n="127">
     <name>Ctrl delete</name>
     <desc>Roll damper on/off</desc>
     <mod-ctrl>
        <binding>
        <command>nasal</command>
        <script>ja37.toggleRollDamper();</script>
        </binding>
      </mod-ctrl>
    </key>
    <key n="111">
     <name>o</name>
     <desc>Toggle canopy</desc>
     <binding>
      <command>property-toggle</command>
      <property>/fdm/jsbsim/fcs/canopy/engage</property>
     </binding>
     <binding>
        <command>nasal</command>
        <script>ja37.click();</script>
      </binding>
    </key>
    <key n="74">
      <name>J</name>
      <desc>Eject drop tank.</desc>
      <binding>
        <command>nasal</command>
        <script>ja37.drop();</script>
      </binding>
     </key>
    <key n="77">
     <name>M</name>
     <desc>Toggle nose wheel steering</desc>
     <binding>
        <command>nasal</command>
        <script>ja37.toggleNosewheelSteer();</script>
     </binding>
    </key>
    <key n="109">
      <name>m</name>
      <desc>Final approach</desc>
      <binding>
       <command>property-toggle</command>
       <property>sim/ja37/hud/final</property>
      </binding>
      <binding>
        <command>nasal</command>
        <script>ja37.click();ja37.popupTip("Toggled configure HUD for final approach.");</script>
      </binding>
    </key>
   </keyboard>
  </input>
 

<!--**********************************************************************

                                          Consumables


*************************************************************************-->
 <consumables>
  <fuel>
   <tank n="0">
    <name>Fuselage Main Tank</name>
   </tank>
   <tank n="1">
    <name>Fuselage Forward Tank</name>
   </tank>
   <tank n="2">
    <name>Left Fuselage Minor Tank</name>
   </tank>
   <tank n="3">
    <name>Right Fuselage Minor Tank</name>
   </tank>
   <tank n="4">
    <name>Left Minor Wing Tank</name>
   </tank>
   <tank n="5">
    <name>Right Minor Wing Tank</name>
   </tank>
   <tank n="6">
    <name>Left wing tank</name>
   </tank>
   <tank n="7">
    <name>Right wing tank</name>
   </tank>
   <tank n="8">
    <name>Drop tank</name>
    <jettisoned type="bool">false</jettisoned>
   </tank>
  </fuel>
 </consumables>
 
 



<!--**********************************************************************

                                          Limits


*************************************************************************-->
 <limits>
  <max-gear-extension-speed>334.77</max-gear-extension-speed><!-- as per manual -->
  <!-- structural G limits: -->
  <max-positive-g>7.0</max-positive-g><!-- Pilots were usually not allowed to exceed this -->
  <max-negative-g>-2.66</max-negative-g>
 </limits>

<!--**********************************************************************

                                          /Instrumentation


*************************************************************************-->

<instrumentation>
  <comm n="0">
    <power-btn type="bool">true</power-btn>
    <power-good type="bool">false</power-good>
  </comm>
  <comm n="1">
    <power-btn type="bool">true</power-btn>
    <power-good type="bool">false</power-good>
  </comm>
  <instrumentation-light>
    <serviceable type="bool">true</serviceable>
  </instrumentation-light>
  <switches>
    <generator>
      <pos type="int">0</pos>
    </generator>
    <inst-light-knob>
      <pos alias="/instrumentation/instrumentation-light/serviceable"/>
    </inst-light-knob>
  </switches>
  <transponder>
    <name type="string">transponder</name>
    <number type="int">0</number>
    <mode type="int">1</mode> <!-- 0 = Mode A, 1 = Mode C, 2 = Mode S -->
    <bus-volts type="double">24.0</bus-volts>
    <encoder-path type="string">/instrumentation/altimeter</encoder-path>
    <kt70-compatibility type="bool">false</kt70-compatibility>
    <inputs>
      <knob-mode type="int">5</knob-mode><!-- 5: transmit altitude -->
      <digit n="0">0</digit>
      <digit n="1">0</digit><!-- military code. For some reason does not work and is set to 1200 -->
      <digit n="2">0</digit>
      <digit n="3">0</digit>
    </inputs>
  </transponder>
  <radar>
    <debug-mode type="bool">true</debug-mode><!--forced radar calculations even if no radar instrument and ai aircraft are out of range-->
    <range>4000</range><!-- meter -->
    <serviceable type="bool">true</serviceable>
  </radar>
  <head-up-display>
    <serviceable type="bool">true</serviceable>
  </head-up-display>
</instrumentation>

<!--**********************************************************************

                                          Nasal scrips


*************************************************************************-->
  <nasal>
    <reversethrust>
      <file>Aircraft/JA37/Nasal/reversethrust.nas</file>
    </reversethrust>
    <radar_logic>
      <file>Aircraft/JA37/Nasal/radar-logic.nas</file>
    </radar_logic>
    <ja37>  
     <file>Aircraft/JA37/Nasal/ja37.nas</file>
     <file>Aircraft/JA37/Nasal/tyresmoke.nas</file>
     <file>Aircraft/JA37/Nasal/liveries.nas</file>
     <file>Aircraft/JA37/Nasal/radar.nas</file>
     <file>Aircraft/JA37/Nasal/options.nas</file>
     <file>Aircraft/JA37/Nasal/chronograph.nas</file>
     <file>Aircraft/JA37/Nasal/track_target.nas</file>
     <file>Aircraft/JA37/Nasal/callsign.nas</file>
    </ja37>
    <canvas_HUD>
      <file>Aircraft/JA37/Nasal/hud.nas</file>
    </canvas_HUD>
    <monitor>
      <file>Aircraft/JA37/Nasal/dialog-perf.nas</file>
      <file>Aircraft/JA37/Nasal/performance.nas</file>
    </monitor>
    <monitor2>
      <file>Aircraft/JA37/Nasal/dialog-sys.nas</file>
      <file>Aircraft/JA37/Nasal/systems.nas</file>
    </monitor2>    
    <limits>
      <file>Aircraft/Generic/limits.nas</file>
    </limits>
    <failureSys>
      <file>Aircraft/JA37/Nasal/ja37-failures.nas</file>
    </failureSys>
    <crash0>
      <file>Aircraft/JA37/Nasal/crash.nas</file>
    </crash0>
    <crash1>
      <file>Aircraft/JA37/Nasal/crash-and-stress.nas</file>
    </crash1>
    <armament>
      <file>Aircraft/JA37/Nasal/aim-9.nas</file>
    </armament>  
    <formation>
      <file>Aircraft/JA37/Nasal/formation.nas</file>
    </formation>  
  </nasal>
</PropertyList>
